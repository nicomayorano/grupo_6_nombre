<!DOCTYPE html>
<html lang="en">
  <head>
  <%- include('../partials/head')%>
</head>
    <body class="register">
      <header class="registerHeader">
        <div class="topHeaderRegister">
          <!--LOGO-->
          <div class="logoHeaderRegister">
            <a href="/./"
              ><img
                src="/images/TULUGAR.gif"
                alt="logo de la pagina con movimiento"
                width="40%"
            /></a>
          </div>
        </div>
      </header>
    <main class="registerMain">
      <div class="cajaTituloRegister">
        <p class="tituloRegister desaparecerEnMediano">
          ¡ Registrate en TuLugar !
          <p class="tituloRegister apareceMedianoRegister">TuLugar!</p>
        </p> 
      </div>
      <div class="divPrincipalMainRegister">
        <form action="/users/register" method="POST" enctype="multipart/form-data" >
          <section class="primerSectionCuestionarioRegister">
            <div class="primerCuestionarioRegister">
              <label for="user"><i class="fas fa-user"></i> Nombre de usuario </label> 
              <input type="text" name="user" id="usuario" required placeholder= "Elegi tu nombre de usuario" class="form-control <%= locals.errors && errors.user ? 'is-invalid' : '' %>" value="<%= locals.oldData ? oldData.user : '' %>"/>
              <% if(locals.errors && errors.user){ %>
              <div class="text-danger">
                <%= errors.user.msg %>
              </div>
              <% } %>
            </div>
            <div class="primerCuestionarioRegister">
              <label for="email"><i class="far fa-envelope"></i> Email </label>
              <input type="email" name="email" id="email" required placeholder="e-mail" class="form-control <%= locals.errors && errors.email ? 'is-invalid' : '' %>" value="<%= locals.oldData ? oldData.email : null %>"/>
              <% if(locals.errors && errors.email){ %>
                <div class="text-danger">
                  <%= errors.email.msg %>
                </div>
                <% } %>
            </div>
            <div class="primerCuestionarioRegister">
              <label for="password"><i class="fas fa-key"></i> Ingresa una contraseña </label>
              <input type="password" name="password" id="password" required placeholder="Elegi tu contraseña" class="form-control <%= locals.errors && errors.password ? 'is-invalid' : '' %>">
              <% if (locals.errors && errors.password) { %>
                <div class="text-danger">
                  <%= errors.password.msg %>
                </div>
                <% } %>
            </div>
            <div class="primerCuestionarioRegister">
              <label for="Repeatpassword"> <i class="fas fa-lock"></i> Repeti la contraseña </label>
              <input type="password" name="Repeatpassword" id="Repeatpassword" required placeholder= "Repeti tu contraseña" class=" form-control <%= locals.errors && errors.Repeatpassword ? 'is-invalid' : '' %>">
              <% if (locals.errors && errors.Repeatpassword) { %>
                <div class="text-danger">
                  <%= errors.Repeatpassword.msg %>
                </div>
                <% } %>
            </div>
            <div class="primerCuestionarioRegister">
              <label><i class="fa fa-id-card-alt"></i> Elegi tu Categoría </label>
              <select
              name="category"
              class=" form-control <%= locals.errors && errors.category ? 'is-invalid' : '' %>">
              <option disabled selected value="">Registrate como:</option>
              <% 
              let categories = ['Anfitrion','Huesped'];
              %>
              <% for ( const oneCategory of categories) { %>
                <option value="<%= oneCategory %>"
                  <%= locals.oldData && (oneCategory === oldData.category) ? 'selected' : '' %>> 
                  <%= oneCategory %> </option>
                  <% } %>
              </select>
              <% if (locals.errors && errors.category) { %>
                <div class="text-danger">
                  <%= errors.category.msg %>
                </div>
                <% } %>
            </div>
            <div class="submit-form-images-wrapper ">
              <h4 class="wrapper-header"> <i class="fa fa-camera-retro"></i> Imágen de Perfil </h4>
              <input type="file" name="image" id="image" class="submit-form-input" accept=".png, .jpg, .bmp, .webp">
              <% if (locals.errors && errors.imagen && errors.image.msg1) { %>
                <div class="text-danger">
                  <%= errors.image.msg1 %>
                </div>
                <% } %>
                <% if (locals.errors && errors.imagen && errors.image.msg2) { %>
                  <div class="text-danger">
                    <%= errors.image.msg2 %>
                  </div>
                  <% } %>
              <div class="images-ul-text">
            <div class="primerCuestionarioRegister checkbox">
              <label for="adult" style="font-size:smaller;"><i class="fas fa-user"></i> Soy mayor de 18 años </label>
              <input style="width: 25px; margin-top: -6px;" type="checkbox" id="adult" name="adult">
              <% if(locals.errors && errors.adult){ %>
                <div class="text-danger">
                  <%= errors.adult.msg %>
                </div>
                <% } %>
            </div>
          </section>
          <button class="submitRegister" type="submit">
            Ingresa a TuLugar
          </button>
          </form>
          <section>
            <h3>Ingresa con</h3>
            <div class="ingresaConRedesRegister">
              <button type="button"><p><i class="fab fa-google"></i>oogle</p></button>
              <button type="button"><p><i class="fab fa-facebook-square"></i>acebook</p></button>
              <button type="button"><p><i class="far fa-envelope"></i> e-mail</p></button>
            </div>
          </section>
      </div>
    </main>
    <%- include('../partials/bottomBurgerMenu.ejs'); %>
    <%- include('../partials/footer'); %>
  </body>
</html>